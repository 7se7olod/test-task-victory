(function(){"use strict";var e={8120:function(e,t,s){var r=s(9242),n=s(3396);function a(e,t,s,r,a,i){const o=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(o)}var i={name:"App"},o=s(89);const u=(0,o.Z)(i,[["render",a]]);var c=u;const l=e=>((0,n.dD)("data-v-3b147b3d"),e=e(),(0,n.Cn)(),e),d={class:"users-page-container"},m={class:"users-head"},p=l((()=>(0,n._)("h1",{class:"users-page-title"},"Users",-1)));function v(e,t,s,r,a,i){const o=(0,n.up)("user-button"),u=(0,n.up)("user-list");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",m,[p,(0,n.Wm)(o,{onClick:i.toCreateUserPage},{default:(0,n.w5)((()=>[(0,n.Uk)("Create user")])),_:1},8,["onClick"])]),(0,n.Wm)(u,{users:this.users},null,8,["users"])])}s(7658);const h={class:"btn"};function f(e,t,s,r,a,i){return(0,n.wg)(),(0,n.iD)("button",h,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var g={name:"UserButton"};const w=(0,o.Z)(g,[["render",f],["__scopeId","data-v-5d1a8de6"]]);var b=w;const k={class:"user-list"};function y(e,t,s,r,a,i){const o=(0,n.up)("user-item");return(0,n.wg)(),(0,n.iD)("div",k,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.users,(e=>((0,n.wg)(),(0,n.j4)(o,{user:e,key:e.id,onClick:t=>i.toUserPage(e.id)},null,8,["user","onClick"])))),128))])}var _=s(7139);const U={class:"user-item"},C={class:"user-block"},I={class:"user-full-name"},Z={class:"user-nick-name"},z={class:"user-block"},P={class:"user-email"},$={class:"user-phone"};function x(e,t,s,r,a,i){return(0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",C,[(0,n._)("div",I,(0,_.zw)(s.user.name),1),(0,n._)("div",Z,"@"+(0,_.zw)(s.user.username),1)]),(0,n._)("div",z,[(0,n._)("div",P,(0,_.zw)(s.user.email),1),(0,n._)("div",$,(0,_.zw)(s.user.phone),1)])])}var j={name:"UserItem",props:{user:{type:Object,require:!0}}};const A=(0,o.Z)(j,[["render",x],["__scopeId","data-v-10fef74f"]]);var D=A,E={name:"UserList",components:{UserItem:D},props:{users:{type:Array,require:!0}},methods:{toUserPage(e){this.$router.push({name:"user",params:{userId:e}})}}};const S=(0,o.Z)(E,[["render",y],["__scopeId","data-v-adaf16d6"]]);var T=S,W={name:"UsersPage",components:{UserButton:b,UserList:T},data(){return{users:[]}},methods:{async loadAllUsers(){const e="https://jsonplaceholder.typicode.com/users",t=await fetch(e);if(t.ok){const e=await t.json();for(const t in e)this.users.push(e[t])}else alert("Ошибка HTTP: "+t.status)},toCreateUserPage(){this.$router.push("/create")}},mounted(){this.loadAllUsers()}};const B=(0,o.Z)(W,[["render",v],["__scopeId","data-v-3b147b3d"]]);var O=B;const F={class:"user-page"},q={class:"users-page-container"},H={class:"user-page-header"},N={class:"users-page-title"},L={class:"user-page-nickname"},K={class:"user-page-info"};function M(e,t,s,r,a,i){const o=(0,n.up)("back-button"),u=(0,n.up)("user-info-item");return(0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("div",q,[(0,n._)("div",H,[(0,n.Wm)(o,{onClick:i.toBackPage},null,8,["onClick"]),(0,n._)("h1",N,(0,_.zw)(a.currentUser.name),1),(0,n._)("div",L,"@"+(0,_.zw)(a.currentUser.username),1)]),(0,n._)("div",K,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.entries(this.currentUserInfo),(e=>((0,n.wg)(),(0,n.j4)(u,{key:e[0],title:e[0],text:e[1]},null,8,["title","text"])))),128))])])])}const Y={class:"user-info-item"},J={class:"user-info-title"},G={class:"user-info-text"};function Q(e,t,s,r,a,i){return(0,n.wg)(),(0,n.iD)("div",Y,[(0,n._)("div",J,(0,_.zw)(this.title),1),(0,n._)("div",G,(0,_.zw)(this.text),1)])}var R={name:"UserInfoItem",props:{title:{type:String,required:!0},text:{type:String,required:!0}}};const V=(0,o.Z)(R,[["render",Q],["__scopeId","data-v-6c37dee4"]]);var X=V;const ee=e=>((0,n.dD)("data-v-7e642484"),e=e(),(0,n.Cn)(),e),te=ee((()=>(0,n._)("svg",{class:"back-btn",width:"20px",height:"20px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","enable-background":"new 0 0 12 12",id:"Слой_1",version:"1.1",viewBox:"0 0 12 12","xml:space":"preserve"},[(0,n._)("polygon",{fill:"#1D1D1B",points:"8.1464844,12 2.1464844,6 8.1464844,0 8.8535156,0.7070313 3.5605469,6 8.8535156,11.2929688 "})],-1))),se=[te];function re(e,t,s,r,a,i){return(0,n.wg)(),(0,n.iD)("div",null,se)}var ne={name:"BackButton"};const ae=(0,o.Z)(ne,[["render",re],["__scopeId","data-v-7e642484"]]);var ie=ae,oe={name:"UserPage",components:{BackButton:ie,UserInfoItem:X},data(){return{currentUser:{},currentUserInfo:{},userId:this.$route.params.userId}},methods:{async loadingUser(){const e="https://jsonplaceholder.typicode.com/users/"+this.userId,t=await fetch(e);if(t.ok){const e=await t.json();this.currentUser.name=e.name,this.currentUser.username=e.username,this.currentUserInfo.Email=e.email,this.currentUserInfo.Phone=e.phone,this.currentUserInfo.Website=e.website,this.currentUserInfo.Company=e.company.name;const s=e.address;this.currentUserInfo.Address=`${s.suite} ${s.street}, ${s.city}, ${s.zipcode}`,console.log(this.currentUser)}else alert("Ошибка HTTP: "+t.status)},toBackPage(){this.$router.push("/")}},mounted(){this.loadingUser()}};const ue=(0,o.Z)(oe,[["render",M],["__scopeId","data-v-416702f1"]]);var ce=ue;const le=e=>((0,n.dD)("data-v-88dd1994"),e=e(),(0,n.Cn)(),e),de={class:"create-user"},me={class:"create-user-container"},pe={class:"create-user-title-block"},ve=le((()=>(0,n._)("h1",{class:"create-user-title"},"Сreate user",-1))),he={class:"create-user-form"};function fe(e,t,s,r,a,i){const o=(0,n.up)("back-button"),u=(0,n.up)("user-form");return(0,n.wg)(),(0,n.iD)("div",de,[(0,n._)("div",me,[(0,n._)("div",pe,[(0,n.Wm)(o,{onClick:i.toBackPage},null,8,["onClick"]),ve]),(0,n._)("div",he,[(0,n.Wm)(u)])])])}const ge={class:"user-form-inputs"},we={key:0,class:"user-label"},be={key:1,class:"user-form-item"},ke={class:"user-label"},ye={class:"user-label"};function _e(e,t,s,r,a,i){const o=(0,n.up)("Field"),u=(0,n.up)("ErrorMessage"),c=(0,n.up)("user-button"),l=(0,n.up)("Form");return(0,n.wg)(),(0,n.j4)(l,{onSubmit:i.onSubmit,class:"user-form"},{default:(0,n.w5)((()=>[(0,n._)("div",ge,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.fields,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.name},["Suite"!==e.name&&"Zipcode"!==e.name?((0,n.wg)(),(0,n.iD)("label",we,[(0,n.Uk)((0,_.zw)(e.name)+" ",1),(0,n.Wm)(o,{name:e.name.toLowerCase(),type:"text",rules:e.rules,class:"user-input"},null,8,["name","rules"]),(0,n.Wm)(u,{class:"user-input-error",name:e.name.toLowerCase()},null,8,["name"])])):(0,n.kq)("",!0),"Suite"===e.name?((0,n.wg)(),(0,n.iD)("div",be,[(0,n._)("label",ke,[(0,n.Uk)(" Suite "),(0,n.Wm)(o,{name:"suite",type:"text",rules:this.validation.validateSuite,class:"user-input"},null,8,["rules"]),(0,n.Wm)(u,{class:"user-input-error",name:"suite"})]),(0,n._)("label",ye,[(0,n.Uk)(" Zipcode "),(0,n.Wm)(o,{name:"zipcode",type:"text",rules:this.validation.validateZipcode,class:"user-input"},null,8,["rules"]),(0,n.Wm)(u,{class:"user-input-error",name:"zipcode"})])])):(0,n.kq)("",!0)])))),128))]),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Create user")])),_:1})])),_:1},8,["onSubmit"])}var Ue=s(5708);class Ce{static inputCheckIsEmpty(e){if(!e)return"This field is required"}static validateName(e){Ce.inputCheckIsEmpty(e);const t=/^[a-zA-Z ]{2,30}$/;return!!t.test(e)||"This field must be a valid name"}static validateUsername(e){Ce.inputCheckIsEmpty(e);const t=/^[a-zA-Z ]{2,30}$/;return!!t.test(e)||"This field must be a valid username"}static validatePhone(e){Ce.inputCheckIsEmpty(e);const t=/^[/+]?[(]?[0-9]{3}[)]?[-\s/.]?[0-9]{3}[-\s/.]?[0-9]{4,6}$/im;return!!t.test(e)||"This field must be a valid phone"}static validateEmail(e){Ce.inputCheckIsEmpty(e);const t=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return!!t.test(e)||"This field must be a valid email"}static validateWebsite(e){Ce.inputCheckIsEmpty(e);const t=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._/+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_/+.~#?&//=]*)/g;return!!t.test(e)||"This field must be a valid email"}static validateCompany(e){Ce.inputCheckIsEmpty(e);const t=/^[a-zA-Z ]{2,30}$/;return!!t.test(e)||"This field must be a valid company"}static validateCity(e){Ce.inputCheckIsEmpty(e);const t=/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/;return!!t.test(e)||"This field must be a valid city"}static validateStreet(e){Ce.inputCheckIsEmpty(e);const t=/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/;return!!t.test(e)||"This field must be a valid street"}static validateSuite(e){Ce.inputCheckIsEmpty(e);const t=/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/;return!!t.test(e)||"This field must be a valid suite"}static validateZipcode(e){Ce.inputCheckIsEmpty(e);const t=/(^\d{5}$)|(^\d{5}-\d{4}$)/;return!!t.test(e)||"This field must be a valid zipcode"}}var Ie={name:"UserForm",components:{UserButton:b,Form:Ue.l0,ErrorMessage:Ue.Bc,Field:Ue.gN},data(){return{validation:Ce,fields:[{name:"Name",rules:Ce.validateName},{name:"Username",rules:Ce.validateUsername},{name:"Email",rules:Ce.validateEmail},{name:"Phone",rules:Ce.validatePhone},{name:"Website",rules:Ce.validateWebsite},{name:"City",rules:Ce.validateCity},{name:"Street",rules:Ce.validateStreet},{name:"Company",rules:Ce.validateCompany},{name:"Suite",rules:Ce.validateSuite},{name:"Zipcode",rules:Ce.validateZipcode}]}},methods:{onSubmit(e){this.sendUser(e)},async sendUser(e){const t="https://jsonplaceholder.typicode.com/users";try{const s=await fetch(t,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}),r=await s.json();console.log("Success:",r),this.$router.push("/")}catch(s){console.log("Error:",s)}}}};const Ze=(0,o.Z)(Ie,[["render",_e],["__scopeId","data-v-20450e5a"]]);var ze=Ze,Pe={name:"CreateUserPage",components:{BackButton:ie,UserForm:ze},methods:{toBackPage(){this.$router.push("/")}}};const $e=(0,o.Z)(Pe,[["render",fe],["__scopeId","data-v-88dd1994"]]);var xe=$e,je=s(2483);const Ae=[{path:"/",component:O},{name:"user",path:"/user/:userId",component:ce},{path:"/create",component:xe}],De=(0,je.p7)({routes:Ae,history:(0,je.PO)("/test-task-victory/")});var Ee=De;const Se=(0,r.ri)(c);Se.use(Ee).mount("#app")}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,n,a){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],a=e[l][2];for(var o=!0,u=0;u<r.length;u++)(!1&a||i>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[u])}))?r.splice(u--,1):(o=!1,a<i&&(i=a));if(o){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,n,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,i=r[0],o=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(u)var l=u(s)}for(t&&t(r);c<i.length;c++)a=i[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(l)},r=self["webpackChunktest_task_to_victory"]=self["webpackChunktest_task_to_victory"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(8120)}));r=s.O(r)})();
//# sourceMappingURL=app.e86101c1.js.map